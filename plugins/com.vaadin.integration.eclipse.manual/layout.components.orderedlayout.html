<html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>6.3.&nbsp;VerticalLayout and HorizontalLayout</title><link href="html-style/local.css" rel="stylesheet" type="text/css"><meta content="DocBook XSL Stylesheets V1.72.0" name="generator"><link rel="start" href="index.html" title="Book of Vaadin"><link rel="up" href="layout.html" title="Chapter&nbsp;6.&nbsp;Managing Layout"><link rel="prev" href="layout.root-layout.html" title="6.2.&nbsp;Window and Panel Root Layout"><link rel="next" href="layout.components.gridlayout.html" title="6.4.&nbsp;GridLayout"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div id="container"><div id="header"><h1>6.3.&nbsp;VerticalLayout and HorizontalLayout</h1></div><div id="itmilllogo">&nbsp;</div><div id="page"><div class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3">6.3.&nbsp;<code class="classname">VerticalLayout</code> and <code class="classname">HorizontalLayout</code></th></tr><tr><td align="left" width="20%"><a accesskey="p" href="layout.root-layout.html">Prev</a>&nbsp;</td><th align="center" width="60%">Chapter&nbsp;6.&nbsp;Managing Layout</th><td align="right" width="20%">&nbsp;<a accesskey="n" href="layout.components.gridlayout.html">Next</a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="layout.components.orderedlayout"></a>6.3.&nbsp;<code class="classname">VerticalLayout</code> and <code class="classname">HorizontalLayout</code></h2></div></div></div>
        
        
        <p>
            <code class="classname">VerticalLayout</code> and
            <code class="classname">HorizontalLayout</code> components are containers for laying
            out components either vertically or horizontally, respectively. Some
            components, such as <code class="classname">Window</code> and
            <code class="classname">Panel</code>, have a <code class="classname">VerticalLayout</code> as
            the root layout, which you can set with <code class="methodname">setContent()</code>.
        </p>

        <p>
            Typical use of the layouts goes as follows:
        </p>

        <pre class="programlisting">VerticalLayout vertical = new VerticalLayout ();
vertical.addComponent(new TextField("Name"));
vertical.addComponent(new TextField("Street address"));
vertical.addComponent(new TextField("Postal code"));
main.addComponent(vertical);</pre>

        <p>
            The text fields have a label attached, which will by default be placed
            above the field. The layout will look on screen as follows:
        </p>

        <div class="screenshot">
            <div class="mediaobject" align="center"><img src="img/layout/orderedlayout_vertical.png" align="middle"></div>
        </div>
        
        <p>
            Using <code class="classname">HorizontalLayout</code> gives the following layout:
        </p>
        
        <div class="screenshot">
            <div class="mediaobject" align="center"><img src="img/layout/orderedlayout_horizontal.png" align="middle"></div>
        </div>

        <p>
            The layouts can have spacing between the horizontal or vertical cells,
            defined with <code class="methodname">setSpacing()</code>, as described in <a href="layout.settings.html#layout.settings.spacing" title="6.10.3.&nbsp;Layout Cell Spacing">Section&nbsp;6.10.3, &ldquo;Layout Cell Spacing&rdquo;</a>. The contained components can be
            aligned within their cells with
            <code class="methodname">setComponentAlignment()</code>, as described in <a href="layout.settings.html#layout.settings.alignment" title="6.10.2.&nbsp;Layout Cell Alignment">Section&nbsp;6.10.2, &ldquo;Layout Cell Alignment&rdquo;</a>.
        </p>

        <p>
            You can use <code class="methodname">setWidth()</code> and
            <code class="methodname">setHeight()</code> to specify width and height of a
            component in either fixed units or relatively with a percentage.
        </p>

        <div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="N22725"></a>6.3.1.&nbsp;Sizing Contained Components</h3></div></div></div>
            

            <p>
                The components contained within an ordered layout can be laid out in a
                number of different ways depending on how you specify their height or
                width in the primary direction of the layout component.
            </p>
            
            <div class="figure"><a name="figure.layout.orderedlayout.size.summary"></a><p class="title"><b>Figure&nbsp;6.2.&nbsp;Component Widths in <code class="classname">HorizontalLayout</code></b></p><div class="figure-contents">
                
                <div class="mediaobject" align="center"><img src="img/layout/horizontallayout_sizing.png" align="middle" alt="Component Widths in HorizontalLayout"></div>
            </div></div><br class="figure-break">

            <p>
                <a href="layout.components.orderedlayout.html#figure.layout.orderedlayout.size.summary" title="Figure&nbsp;6.2.&nbsp;Component Widths in HorizontalLayout">Figure&nbsp;6.2, &ldquo;Component Widths in <code class="classname">HorizontalLayout</code>&rdquo;</a> above
                gives a summary of the sizing options for a
                <code class="classname">HorizontalLayout</code>. Let us break down the figure
                as follows.
            </p>

            <p>
                If a <code class="classname">VerticalLayout</code> has undefined height or
                <code class="classname">HorizontalLayout</code> undefined width, the layout
                will shrink to fit the contained components so that there is no extra
                space between them.
            </p>

            <pre class="programlisting">HorizontalLayout fittingLayout = new HorizontalLayout();
fittingLayout.setWidth(Sizeable.SIZE_UNDEFINED, 0);
fittingLayout.addComponent(new Button("Small"));
fittingLayout.addComponent(new Button("Medium-sized"));
fittingLayout.addComponent(new Button("Quite a big component"));
parentLayout.addComponent(fittingLayout);</pre>

            <div class="mediaobject" align="center"><img src="img/layout/horizontallayout_width_undefined.png" align="middle"></div>

            <p>
                If such a vertical layout continues below the bottom of a window (a
                <code class="classname">Window</code> object), the window will pop up a
                vertical scroll bar on the right side of the window area. This way,
                you get a "web page".
            </p>

            <p>
                If you set a <code class="classname">HorizontalLayout</code> to a defined size
                horizontally or a <code class="classname">VerticalLayout</code> vertically,
                and there is space left over from the contained components, the extra
                space is distributed equally between the component cells. The
                components are aligned within these cells according to their
                alignment setting, top left by default, as in the example below.
            </p>

            <pre class="programlisting">fixedLayout.setWidth("400px");</pre>

            <div class="mediaobject" align="center"><img src="img/layout/horizontallayout_width_defined.png" align="middle"></div>

            <p>
                Using percentual sizes for components contained in a layout requires
                answering the question, "Percentage of what?" There is no sensible
                default answer for this question in the current implementation of the
                layouts, so in practice, you may not define "100%" size alone.
            </p>

            <p>
                Often, you want to have one component that takes all the available
                space left over from other components. You need to set its size as
                100% and set it as <span class="emphasis"><em>expanding</em></span> with
                <code class="methodname">setExpandRatio()</code>. The second parameter for
                the method is an expansion ratio, which is relevant if there are more
                than one expanding component, but its value is irrelevant for a single
                expanding component.
            </p>

			<pre class="programlisting">HorizontalLayout layout = new HorizontalLayout();
layout.setWidth("400px");

// These buttons take the minimum size.
layout.addComponent(new Button("Small"));
layout.addComponent(new Button("Medium-sized"));

// This button will expand.
Button expandButton = new Button("Expanding component");

// Use 100% of the expansion cell's width.
expandButton.setWidth("100%");

// The component must be added to layout before setting the ratio.
layout.addComponent(expandButton);

// Set the component's cell to expand.
layout.setExpandRatio(expandButton, 1.0f);

parentLayout.addComponent(layout);</pre>

            <div class="mediaobject" align="center"><img src="img/layout/horizontallayout_width_expanding.png" align="middle"></div>

            <p>
                Notice that you must call <code class="methodname">setExpandRatio()</code>
                <span class="emphasis"><em>after</em></span> <code class="methodname">addComponent()</code>,
                because the layout can not operate on an component that it doesn't
                (yet) include.
            </p>

            <p>
                <span class="bold"><strong>Warning:</strong></span> <span class="emphasis"><em>A layout that
					contains components with percentual size must have a defined
					size</em></span>! If a layout has undefined size and component has,
                say, 100% size, the component would fill the space given by the
                layout, while the layout would shrink to fit the space taken by the
                component, which is a paradox. This requirement holds for height and
                width separately. The debug mode allows detecting such invalid cases;
                see <a href="advanced.debug-production-modes.html#advanced.debug-production-modes.debug.mode" title="10.4.1.&nbsp;Debug Mode">Section&nbsp;10.4.1, &ldquo;Debug Mode&rdquo;</a>.
            </p>

            <p>
                If you specify an expand ratio for multiple components, they will all
                try to use the available space according to the ratio.
            </p>

            <pre class="programlisting">HorizontalLayout layout = new HorizontalLayout();
                layout.setWidth("400px");

// Create three equally expanding components.
String[] captions = { "Small", "Medium-sized", "Quite a big component" };
for (int i = 1; i &lt;= 3; i++) {
    Button button = new Button(captions[i-1]);
    button.setWidth("100%");
    layout.addComponent(button);

    // Have uniform 1:1:1 expand ratio.
    layout.setExpandRatio(button, 1.0f);
}</pre>

            <div class="mediaobject" align="center"><img src="img/layout/horizontallayout_width_expand_uniform.png" align="middle"></div>

            <p>
                As we used the same ratio for each components, the ones with more
                content may be have the content cut. Below, we use differing ratios:
            </p>

            <pre class="programlisting">// Expand ratios for the components are 1:2:3.
layout.setExpandRatio(button, i * 1.0f);</pre>

            <div class="mediaobject" align="center"><img src="img/layout/horizontallayout_width_expand_ratios.png" align="middle"></div>

            <p>
                If the size of the expanding components is defined as a percentage
                (typically "100%"), the ratio is calculated from the
                <span class="emphasis"><em>overall</em></span> space available for the relatively sized
                components. For example, if you have a 100 pixels wide layout with two
                cells with 1.0 and 4.0 respective expansion ratios, and both the
                components in the layout are set as
                <code class="methodname">setWidth("100%")</code>, the cells will have
                respective widths of 20 and 80 pixels, regardless of the minimum size
                of the components.
            </p>

            <p>
                However, if the size of the contained components is undefined or
                fixed, the expansion ratio is of the <span class="emphasis"><em>excess</em></span>
                available space. In this case, it is the excess space that expands, not
                the components.
            </p>

            <pre class="programlisting">        for (int i = 1; i &lt;= 3; i++) {
    // Button with undefined size.
    Button button = new Button(captions[i - 1]);
    
    layout4.addComponent(button);

    // Expand ratios are 1:2:3.
    layout4.setExpandRatio(button, i * 1.0f);
}</pre>

            <div class="mediaobject" align="center"><img src="img/layout/horizontallayout_width_expand_ratios-2.png" align="middle"></div>

            <p>
                It is not meaningful to combine expanding components with percentually
                defined size and components with fixed or undefined size. Such
                combination can lead to a very unexpected size for the percentually
                sized components.
            </p>

            <p>
                A percentual size of a component defines the size of the component
                <span class="emphasis"><em>within its cell</em></span>. Usually, you use "100%", but a
                smaller percentage or a fixed size (smaller than the cell size) will
                leave an empty space in the cell and align the component within the
                cell according to its alignment setting, top left by default.
            </p>

            <pre class="programlisting">HorizontalLayout layout50 = new HorizontalLayout();
layout50.setWidth("400px");

String[] captions1 = { "Small 50%", "Medium 50%", "Quite a big 50%" };
for (int i = 1; i &lt;= 3; i++) {
    Button button = new Button(captions1[i-1]);
    button.setWidth("50%");
    layout50.addComponent(button);

    // Expand ratios for the components are 1:2:3.
    layout50.setExpandRatio(button, i * 1.0f);
}
parentLayout.addComponent(layout50);</pre>

            <div class="mediaobject" align="center"><img src="img/layout/horizontallayout_width_expand_percentage.png" align="middle"></div>

        </div>
        
    </div><div class="navfooter"><hr><table summary="Navigation footer" width="100%"><tr><td align="left" width="40%"><a accesskey="p" href="layout.root-layout.html">Prev</a>&nbsp;</td><td align="center" width="20%"><a accesskey="u" href="layout.html">Up</a></td><td align="right" width="40%">&nbsp;<a accesskey="n" href="layout.components.gridlayout.html">Next</a></td></tr><tr><td valign="top" align="left" width="40%">6.2.&nbsp;Window and Panel Root Layout&nbsp;</td><td align="center" width="20%"><a accesskey="h" href="index.html">Home</a></td><td valign="top" align="right" width="40%">&nbsp;6.4.&nbsp;<code class="classname">GridLayout</code></td></tr></table></div></div><div id="footer"><span>Version: 6.0.0</span>&copy; Oy IT Mill Ltd. 2000-2009</div></div></body></html>