<html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter&nbsp;6.&nbsp;Managing Layout</title><link href="html-style/local.css" rel="stylesheet" type="text/css"><meta content="DocBook XSL Stylesheets V1.72.0" name="generator"><link rel="start" href="index.html" title="Book of Vaadin"><link rel="up" href="index.html" title="Book of Vaadin"><link rel="prev" href="components.customcomponent.html" title="5.18.&nbsp;Component Composition with CustomComponent"><link rel="next" href="layout.root-layout.html" title="6.2.&nbsp;Window and Panel Root Layout"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div id="container"><div id="header"><h1>Chapter&nbsp;6.&nbsp;Managing Layout</h1></div><div id="itmilllogo">&nbsp;</div><div id="page"><div class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3">Chapter&nbsp;6.&nbsp;Managing Layout</th></tr><tr><td align="left" width="20%"><a accesskey="p" href="components.customcomponent.html">Prev</a>&nbsp;</td><th align="center" width="60%">&nbsp;</th><td align="right" width="20%">&nbsp;<a accesskey="n" href="layout.root-layout.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="layout"></a>Chapter&nbsp;6.&nbsp;Managing Layout</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="layout.html#layout.overview">6.1. Overview</a></span></dt><dt><span class="section"><a href="layout.root-layout.html">6.2. Window and Panel Root Layout</a></span></dt><dt><span class="section"><a href="layout.components.orderedlayout.html">6.3. <code class="classname">VerticalLayout</code> and <code class="classname">HorizontalLayout</code></a></span></dt><dd><dl><dt><span class="section"><a href="layout.components.orderedlayout.html#N22725">6.3.1. Sizing Contained Components</a></span></dt></dl></dd><dt><span class="section"><a href="layout.components.gridlayout.html">6.4. <code class="classname">GridLayout</code></a></span></dt><dd><dl><dt><span class="section"><a href="layout.components.gridlayout.html#N22837">6.4.1. Sizing Grid Cells</a></span></dt></dl></dd><dt><span class="section"><a href="layout.components.formlayout.html">6.5. <code class="classname">FormLayout</code></a></span></dt><dt><span class="section"><a href="layout.components.panel.html">6.6. <code class="classname">Panel</code></a></span></dt><dt><span class="section"><a href="layout.components.splitpanel.html">6.7. <code class="classname">SplitPanel</code></a></span></dt><dt><span class="section"><a href="layout.components.tabsheet.html">6.8. <code class="classname">TabSheet</code></a></span></dt><dt><span class="section"><a href="layout.components.accordion.html">6.9. <code class="classname">Accordion</code></a></span></dt><dt><span class="section"><a href="layout.settings.html">6.10. Layout Formatting</a></span></dt><dd><dl><dt><span class="section"><a href="layout.settings.html#layout.settings.size">6.10.1. Layout Size</a></span></dt><dt><span class="section"><a href="layout.settings.html#layout.settings.alignment">6.10.2. Layout Cell Alignment</a></span></dt><dt><span class="section"><a href="layout.settings.html#layout.settings.spacing">6.10.3. Layout Cell Spacing</a></span></dt><dt><span class="section"><a href="layout.settings.html#layout.settings.margins">6.10.4. Layout Margins</a></span></dt></dl></dd><dt><span class="section"><a href="layout.customlayout.html">6.11. Custom Layouts</a></span></dt></dl></div>
	

		<p>
			Ever since the ancient xeroxians invented graphical user interfaces,
			programmers have wanted to make GUI programming ever easier for
			themselves. Solutions started simple. When GUIs appeared on PC
			desktops, practically all screens were of the VGA type and fixed into
			640x480 size. Mac or X Window System on UNIX were not much
			different. Everyone was so happy with such awesome graphics
			resolutions that they never thought that an application would have to
			work on a radically different screen size. At worst, screens could
			only grow, they thought, giving more space for more windows. In the
			80s, the idea of having a computer screen in your pocket was simply
			not realistic. Hence, the GUI APIs allowed placing UI components
			using screen coordinates. Visual Basic and some other systems
			provided an easy way for the designer to drag and drop components on
			a fixed-sized window. One would have thought that at least
			translators would have complained about the awkwardness of such a solution,
			but apparently they were not, as non-engineers, heard or at least
			cared about. At best, engineers could throw at them a resource editor
			that would allow them to resize the UI components by hand. Such was
			the spirit back then.
		</p>
			
		<p>
			After the web was born, layout design was doomed to change for ever.
			At first, layout didn't matter much, as everyone was happy with plain
			headings, paragraphs, and a few hyperlinks here and there.  Designers
			of HTML wanted the pages to run on any screen size. The screen size
			was actually not pixels but rows and columns of characters, as the
			baby web was really just hyper<span class="emphasis"><em>text</em></span>, not
			graphics. That was soon to be changed. The first GUI-based browser,
			NCSA Mosaic, launched a revolution that culminated in Netscape
			Navigator. Suddenly, people who had previously been doing
			advertisement brochures started writing HTML. This meant that layout
			design had to be easy not just for programmers, but also allow the
			graphics designer to do his or her job without having to know a thing
			about programming. The W3C committee designing web standards came up
			with the CSS (Cascading Style Sheet) specification, which allowed trivial separation of
			appearance from content. Later versions of HTML followed, XHTML
			appeared, as did countless other standards.
		</p>
			
		<p>
			Page description and markup languages are a wonderful solution for static
			presentations, such as books and most web pages. Real applications, however,
			need to have more control. They need to be able to change the state of user
			interface components and even their layout on the run. This creates a need to
			separate the presentation from content on exactly the right level. 

			
		</p>
			
		<p>
			Thanks to the attack of graphics designers, desktop applications were, when it
			comes to appearance, far behind web design. Sun Microsystems had come in 1995
			with a new programming language, Java, for writing cross-platform desktop
			applications. Java's original graphical user interface toolkit, AWT (Abstract
			Windowing Toolkit), was designed to work on multiple operating systems as well
			as embedded in web browsers. One of the special aspects of AWT was the layout
			manager, which allowed user interface components to be flexible, growing and
			shrinking as needed. This made it possible for the user to resize the
			windows of an application flexibly and also served the needs of localization,
			as text strings were not limited to some fixed size in pixels. It became even
			possible to resize the pixel size of fonts, and the rest of the layout
			adapted to the new size.
		</p>

		<p>
			Layout management of Vaadin is a direct successor of the web-based
			concept for separation of content and appearance and of the Java AWT solution
			for binding the layout and user interface components into objects in
			programs. Vaadin layout components allow you to position your UI
			components on the screen in a hierarchical fashion, much like in conventional
			Java UI toolkits such as AWT, Swing, or SWT. In addition, you can approach the
			layout from the direction of the web with the
			<code class="classname">CustomLayout</code> component, which you can use to write your
			layout as a template in XHTML that provides locations of any contained
			components.
		</p>

		<p>
			The moral of the story is that, because Vaadin is intended
			for web applications, appearance is of high importance. The solutions
			have to be the best of both worlds and satisfy artists of both
			kind: code and graphics. On the API side, the layout is controlled by UI
			components, particularly the layout components. On the visual side, it is controlled by themes. Themes
			can contain any HTML, CSS, and JavaScript that you or your web
			artists create to make people feel good about your software.
		</p>
			
	<div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="layout.overview"></a>6.1.&nbsp;Overview</h2></div></div></div>
		

        <p>
            The user interface components in Vaadin can roughly be divided in two groups:
            components that the user can interact with and layout components for placing
            the other components to specific places in the user interface. The layout
            components are identical in their purpose to layout managers in regular
            desktop frameworks for Java and you can use plain Java to accomplish
            sophisticated component layouting.
        </p>

		<p>
			You start by creating a root layout for the main window, unless you use the
			default, and then add the other layout components hierarchically, and finally
			the interaction components as the leaves of the component tree.
		</p>

        <pre class="programlisting">// Create the main window.
Window main = new Window("My Application");
setMainWindow(main);

// Set the root layout (VerticalLayout is actually the default).
VerticalLayout root = new VerticalLayout();
main.setContent(root);

// Add the topmost component.
root.addComponent(new Label("The Ultimate Cat Finder"));

// Add a horizontal layout for the bottom part.
HorizontalLayout bottom = new HorizontalLayout();
root.addComponent(bottom);

bottom.addComponent(new Tree("Major Planets and Their Moons"));
bottom.addComponent(new Panel());
...</pre>

		<p>
			You will usually need to tune the layout components a bit by setting sizes,
			expansion ratios, alignments, spacings, and so on. The general settings are
			described in <a href="layout.settings.html" title="6.10.&nbsp;Layout Formatting">Section&nbsp;6.10, &ldquo;Layout Formatting&rdquo;</a>, while the layout component
			specific settings are described in connection with the component.
		</p>

		<p>
			Layouts are coupled with themes that specify various layout features, such as
			backgrounds, borders, text alignment, and so on. Definition and use of themes
			is described in <a href="themes.html" title="Chapter&nbsp;7.&nbsp;Themes">Chapter&nbsp;7, <i xmlns:xlink="http://www.w3.org/1999/xlink">Themes</i></a>
		</p>

		<p>
			You can see the finished version of the above example in <a href="layout.html#figure.layout.intro.simple" title="Figure&nbsp;6.1.&nbsp;Layout Example">Figure&nbsp;6.1, &ldquo;Layout Example&rdquo;</a>.
		</p>

		<div class="figure"><a name="figure.layout.intro.simple"></a><p class="title"><b>Figure&nbsp;6.1.&nbsp;Layout Example</b></p><div class="figure-contents">
			
			<div class="mediaobject" align="center"><img src="img/layout/layout-intro-example-1.png" align="middle" alt="Layout Example"></div>
		</div></div><br class="figure-break">

		<p>
			The alternative for using layout components is to use the special
			<code class="classname">CustomLayout</code> that allows using HTML templates. This
			way, you can let the web page designers take responsibility of component
			layouting using their own set of tools. What you lose is the ability to manage
			the layout dynamically.
		</p>

     	<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">The Visual Editor</h3>
			

			<p>
				While you can always program the layout by hand, the Vaadin plugin for the
				Eclipse IDE includes a WYSIWYG editor that you can use to create user
				interfaces visually. The editor generates the code that creates the user
				interface and is useful for rapid application development and prototyping.
				It is especially helpful when you are still learning the framework, as the
				generated code, which is designed to be as reusable as possible, also
				works as an example of how you create user interfaces with Vaadin. You can
				find more about the WYSIWYG editor at
				<code class="uri">http://vaadin.com/eclipse</code>.
			</p>
		</div>

    </div>

    
		
    
    
    
    
    

    

	

    
    
	

	
		
	
		
</div><div class="navfooter"><hr><table summary="Navigation footer" width="100%"><tr><td align="left" width="40%"><a accesskey="p" href="components.customcomponent.html">Prev</a>&nbsp;</td><td align="center" width="20%">&nbsp;</td><td align="right" width="40%">&nbsp;<a accesskey="n" href="layout.root-layout.html">Next</a></td></tr><tr><td valign="top" align="left" width="40%">5.18.&nbsp;Component Composition with <code class="classname">CustomComponent</code>&nbsp;</td><td align="center" width="20%"><a accesskey="h" href="index.html">Home</a></td><td valign="top" align="right" width="40%">&nbsp;6.2.&nbsp;Window and Panel Root Layout</td></tr></table></div></div><div id="footer"><span>Version: 6.0.0</span>&copy; Oy IT Mill Ltd. 2000-2009</div></div></body></html>